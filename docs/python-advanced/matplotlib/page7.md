# 7. 画像の保存と出力形式

Matplotlib では、描画したグラフを様々な形式で保存することができます。ここでは、画像の保存方法とその際に利用できる出力形式について学びます。

## 7.1 画像の保存方法

Matplotlib で描画したグラフを保存する方法を紹介します。`savefig`関数を使用することで、簡単にファイルとして保存できます。

### 7.1.1 基本的な保存方法

以下のコードは、基本的な画像の保存方法を示しています。

```python
import matplotlib.pyplot as plt

# データの作成
x = [0, 1, 2, 3, 4, 5]
y = [0, 1, 4, 9, 16, 25]

# グラフの作成
plt.plot(x, y)

# 画像の保存
plt.savefig('plot.png')
```

このコードを実行すると、カレントディレクトリに `plot.png` というファイル名で画像が保存されます。

### 7.1.2 解像度の指定

画像の解像度を指定することも可能です。解像度は、DPI（dots per inch）の値を設定することで調整できます。

```python
# 解像度を指定して保存
plt.savefig('plot_high_res.png', dpi=300)
```

このコードでは、300 DPI の解像度で画像を保存します。解像度を高くすると、より鮮明な画像を得られますが、ファイルサイズが大きくなることに注意してください。

## 7.2 出力形式の選択

Matplotlib は、様々な画像形式での保存が可能です。主に使われる形式としては、PNG、PDF、SVG、JPG などがあります。ここでは、そのいくつかを紹介します。

### 7.2.1 PNG 形式

PNG 形式は、可逆圧縮と透過機能に対応した、一般的な画像フォーマットです。

```python
plt.savefig('plot.png')  # 指定がなければデフォルトでPNG形式
```

### 7.2.2 PDF 形式

PDF 形式は、ベクター画像で保存されるため、拡大しても劣化しません。

```python
plt.savefig('plot.pdf')
```

### 7.2.3 SVG 形式

SVG 形式もベクター画像の一種で、Web での利用に向いています。

```python
plt.savefig('plot.svg')
```

### 7.2.4 JPG 形式

JPG 形式は、フルカラーの画像を扱う際に一般的ですが、非可逆圧縮のため画質が劣化する可能性があります。

```python
plt.savefig('plot.jpg')
```

## 7.3 まとめ

画像の保存と出力形式について学びました。Matplotlib では、多様な形式で画像を保存できるため、目的に応じて適切な形式を選択することが重要です。特に解像度やファイルサイズ、画像の使用目的に注意しながら、保存設定を工夫してください。皆さんもぜひいろいろ試してみて、理解を深めてください。
